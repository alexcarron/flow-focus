<button
	id="goToFocusButton"
	class="fade-in-on-hover icon-button corner-button"
	[routerLink]="['/']"
>
	<img src="assets/assistant.svg" alt="To Task Focus">
	<span class="tooltip">To Task Focus</span>
</button>

<table data-vertable="ver6">
	<thead>
		<tr id="task-header">
			<th class="task-header-item checkbox-column"></th>
			<th class="task-header-item description-column">Name</th>
			<th class="task-header-item steps-column">Steps</th>
			<th class="task-header-item time-available-column">Time Available</th>
			<th class="task-header-item deadline-column">Deadline</th>
			<th class="task-header-item duration-column">Duration</th>
			<th class="task-header-item repeat-column">Repeat</th>
		</tr>
	</thead>
	<tbody>
		<tr class="task-row" *ngFor="let task of getTasks();">
			<td class="task-row-item checkbox-column">
				<div>
					<input id="completedCheckbox"
						type="checkbox"
						[checked]="task.getIsComplete()">
					<input id="mandatoryCheckbox"
						type="checkbox"
						[checked]="task.getIsMandatory()">
				</div>
			</td>
			<td class="task-row-item description-column">
				{{task.getDescription()}}
			</td>
			<td class="task-row-item steps-column">
				<div>
					<button
						*ngIf="task.getSteps().length > 0"
						id="stepsDisplayButton"
						class="icon-button"
					>
						<img id="displayStepsIcon" src="assets/arrowhead-right-icon.svg" alt="Display Steps">
						<img id="hideStepsIcon" src="assets/arrowhead-down-icon.svg" alt="Hide Steps">
					</button>
					<div class="steps-preview-container flex-row">
						<p *ngFor="let step of task.getSteps()">{{step}}</p>
					</div>
				</div>
			</td>
			<td class="task-row-item time-available-column">
				<div>
					<p class="table-time-value">
						{{task.getStartTime() | dateFormatter:'Now'}}
					</p>
					to
					<p class="table-time-value">
						{{task.getEndTime() | dateFormatter:'Forever'}}
					</p>
				</div>
			</td>
			<td class="task-row-item deadline-column">
				<p class="table-time-value">{{task.getDeadline() | dateFormatter:'None'}}</p>
			</td>
			<td class="task-row-item duration-column">
				<div>
					<p class="table-time-value">
						{{ getDurationRangeStrings(
							task.getMinRequiredTime(),
							task.getMaxRequiredTime(getCurrentTime())
						)[0] }}
					</p>
					<p *ngIf="!task.hasSingletonDuration() && task.hasMaxRequiredTime()" class="middle-label">to</p>
					<p *ngIf="!task.hasSingletonDuration() && task.hasMaxRequiredTime()" class="table-time-value">
						{{ getDurationRangeStrings(
							task.getMinRequiredTime(),
							task.getMaxRequiredTime(getCurrentTime())
						)[1] }}
					</p>
				</div>
			</td>
			<td class="task-row-item repeat-column">
				<div *ngIf="task.isRecurring()">
					<p class="middle-label">Every</p>
					<p class="table-time-value">
						{{ toDurationString(task.getRepeatInterval()!) | titlecase }}
					</p>
				</div>
			</td>
		</tr>
	</tbody>
</table>

<!-- Example Display: Do Dishes | Preview of first step | Jul 24 2023 5PM | 8PM | 30 min - 4 hours | Daily | ! | âœ… -->

<div
	id="taskList"
>
	<!-- <task-item
		*ngFor="let task of getTasks()"
		[task]="task"
		class="task-item"
	>
	</task-item> -->
</div>
